data-to-spacy:
  cmd: python -m spacy run data-to-spacy
  script:
    - python -m prodigy data-to-spacy corpus/ --ner correct_UC01_train,eval:correct_UC01_eval
  deps: []
  outs:
    - path: corpus/train.spacy
      md5: 169b598d5188b8e82a7a87e9bc4c358f
    - path: corpus/dev.spacy
      md5: b4df6ce5d4b6a9f9dc34b920748dc503
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe
train_spacy:
  cmd: python -m spacy run train_spacy
  script:
    - python -m spacy train configs/config.cfg --output training/ --paths.train corpus/train.spacy
      --paths.dev corpus/dev.spacy --verbose --gpu-id -1
  deps:
    - path: corpus/train.spacy
      md5: 169b598d5188b8e82a7a87e9bc4c358f
    - path: corpus/dev.spacy
      md5: b4df6ce5d4b6a9f9dc34b920748dc503
  outs:
    - path: training/model-best
      md5: 73ae5137501854c4efef951a52acf8b7
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe
train_prodigy:
  cmd: python -m spacy run train_prodigy
  script:
    - python -m prodigy train training/ --ner correct_UC01_train,eval:correct_UC01_eval
      --config configs/config.cfg --base-model training/custom_model_md --verbose
      --gpu-id -1 --label-stats
  deps: []
  outs:
    - path: training/model-best
      md5: f982a7c2e7c639e712c002ab7547eaa1
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python -m spacy evaluate training/model-best corpus/dev.spacy --output training/metrics.json
  deps:
    - path: corpus/dev.spacy
      md5: b4df6ce5d4b6a9f9dc34b920748dc503
    - path: training/model-best
      md5: f982a7c2e7c639e712c002ab7547eaa1
  outs:
    - path: training/metrics.json
      md5: 77267f7480fc7248000b65520eb7ddd7
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe

data-to-spacy:
  cmd: python -m spacy run data-to-spacy
  script:
    - python -m prodigy data-to-spacy corpus/ --ner correct_UC01_train,eval:correct_UC01_eval
  deps: []
  outs:
    - path: corpus/train.spacy
      md5: 240adad32d93594717c3935a64949422
    - path: corpus/dev.spacy
      md5: 5d66c2fec433f49910f799357fde6743
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe
train_spacy:
  cmd: python -m spacy run train_spacy
  script:
    - python -m spacy train configs/config.cfg --output training/ --paths.train corpus/train.spacy
      --paths.dev corpus/dev.spacy --verbose --gpu-id -1
  deps:
    - path: corpus/train.spacy
      md5: 240adad32d93594717c3935a64949422
    - path: corpus/dev.spacy
      md5: 5d66c2fec433f49910f799357fde6743
  outs:
    - path: training/model-best
      md5: e7b0940b2f0fdf2e7a61a6671c5e4628
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe
train_prodigy:
  cmd: python -m spacy run train_prodigy
  script:
    - python -m prodigy train training/ --ner correct_UC01_train,eval:correct_UC01_eval
      --config configs/config.cfg --base-model training/custom_model_md --verbose
      --gpu-id -1 --label-stats
  deps: []
  outs:
    - path: training/model-best
      md5: f982a7c2e7c639e712c002ab7547eaa1
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python -m spacy evaluate training/model-best corpus/dev.spacy --output training/metrics.json
  deps:
    - path: corpus/dev.spacy
      md5: 5d66c2fec433f49910f799357fde6743
    - path: training/model-best
      md5: d37da6ada56834dd66cc25eae37e52ef
  outs:
    - path: training/metrics.json
      md5: 83e1d435d2acd32885074f18a325e589
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe
evaluate_entity_ruler:
  cmd: python -m spacy run evaluate_entity_ruler
  script:
    - python -m spacy evaluate training/custom_model_md corpus/dev.spacy --output
      training/metrics.json
  deps:
    - path: corpus/dev.spacy
      md5: bcb56a189c709dda46c3a8b2390a5dcd
    - path: training/custom_model_md
      md5: d4c8a5119a4dc23622ca052ac0dfca7d
  outs:
    - path: training/metrics.json
      md5: 05b78b540c8fba0bbb0e34c0c338ad02
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe
